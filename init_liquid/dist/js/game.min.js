(function e(t,i,s){function a(o,r){if(!i[o]){if(!t[o]){var h="function"==typeof require&&require;if(!r&&h)return h(o,!0);if(n)return n(o,!0);throw Error("Cannot find module '"+o+"'")}var d=i[o]={exports:{}};t[o][0].call(d.exports,function(e){var i=t[o][1][e];return a(i?i:e)},d,d.exports,e,t,i,s)}return i[o].exports}for(var n="function"==typeof require&&require,o=0;s.length>o;o++)a(s[o]);return a})({1:[function(t){"use strict";window.onload=function(){var e=new Phaser.Game(640,832,Phaser.AUTO,"init");e.state.add("boot",t("./states/boot")),e.state.add("gameover",t("./states/gameover")),e.state.add("menu",t("./states/menu")),e.state.add("play",t("./states/play")),e.state.add("preload",t("./states/preload")),e.state.start("boot")}},{"./states/boot":4,"./states/gameover":5,"./states/menu":6,"./states/play":7,"./states/preload":8}],2:[function(t,e){"use strict";var i=function(t,e,i,s,a){Phaser.Image.call(this,t,e,i,s,a);var n=this;this.callbackDelay=20,this.callbackTimer=0,this.clicked=!1,this._callback=new Phaser.Signal,this.anchor.set(.5,.5),this.inputEnabled=!0,this.game.device.desktop&&(this.input.useHandCursor=!0),this.inputEnabled&&this.events.onInputDown.add(function(){n.game.device.webAudio&&n.game.sound.play("tap"),n.game.add.tween(n.scale).to({x:1.2,y:.8},200,Phaser.Easing.Back.Out,!0).onComplete.addOnce(function(){n.clicked=!0,n.callbackTimer=0,n.game.add.tween(n.scale).to({x:1,y:1},200,Phaser.Easing.Back.Out,!0)},n)}),Object.defineProperty(this,"callback",{get:function(){return this._callback},enumerable:!0,configurable:!0})};i.prototype=Object.create(Phaser.Image.prototype),i.prototype.constructor=i,i.prototype.update=function(){this.clicked&&(this.callbackTimer+=this.game.time.elapsed,this.callbackTimer>=this.callbackDelay&&(this._callback.dispatch(),this.clicked=!1,this.callbackTimer=0))},i.prototype.setCallbackDelay=function(t){this.callbackDelay=t},i.prototype.destroy=function(){this.prototype.destroy.call(this),this._callback.dispose(),this._callback=null},e.exports=i},{}],3:[function(t,e){"use strict";var i=t("./simplebutton"),s=function(t,e,s,a,n){i.call(this,t,e,s,a,n),this.spriteSheet=a,this.textureKey1=n,this.textureKey2=g,this.activeTextureKey=this.textureKey1,this._state=1,this.events.onInputUp.add(this.switchTextures,this,2),Object.defineProperty(this,"state",{get:function(){return this._state},enumerable:!0,configurable:!0})};s.prototype=Object.create(Phaser.Sprite.prototype),s.prototype.constructor=s,s.prototype.update=function(){},s.prototype.switchTextures=function(){this.activeTextureKey=this.activeTextureKey===this.textureKey1?this.textureKey2:this.textureKey1,this.loadTexture(this.spriteSheet,this.activeTextureKey),this._state=this.activeTextureKey===this.textureKey1?1:2},e.exports=s},{"./simplebutton":2}],4:[function(t,e){"use strict";function i(){}i.prototype={preload:function(){this.load.image("preloader","assets/preloader.gif")},create:function(){this.setupStage(),this.detectWeakDevice(),this.game.input.maxPointers=1,this.game.state.start("preload")},setupStage:function(){var t=this.game.scale;t.scaleMode=Phaser.ScaleManager.SHOW_ALL,t.minWidth=.25*this.game.world.width,t.minHeight=.25*this.game.world.height,t.aspectRatio=this.game.world.width/this.game.world.width,t.pageAlignHorizontally=!0,t.pageAlignVertically=!0,this.game.device.desktop||t.forceOrientation(!1,!0),t.enterIncorrectOrientation.add(this.onEnterIncorrectOrientation,this),t.leaveIncorrectOrientation.add(this.onLeaveIncorrectOrientation,this),t.setScreenSize(!0),this.stage.disableVisibilityChange=!0,this.stage.backgroundColor=11193204},detectWeakDevice:function(){var t=!1;if(this.game.device.desktop===!1){var e=detect.parse(window.navigator.userAgent);this.game.device.iOS&&(7>e.os.major&&(t=!0),e.browser.family.indexOf("Chrome")>-1&&(t=!0)),this.game.device.android&&(e.browser.family.indexOf("Android")>-1&&(t=!0),e.browser.family.indexOf("Chrome Mobile")>-1&&18>=e.browser.major&&(t=!0)),this.game.device.windowsPhone&&e.browser.family.indexOf("IE")>-1&&(t=10>e.browser.major)}},onEnterIncorrectOrientation:function(){document.getElementById("orientation").style.display="block",document.body.style.marginBottom="0px"},onLeaveIncorrectOrientation:function(){document.getElementById("orientation").style.display="none",document.body.style.marginBottom="100px",this.game.device.android&&!this.game.device.chrome&&this.game.scale.setScreenSize(!0),this.game.time.events.repeat(500,3,this.game.scale.setScreenSize,this)}},e.exports=i},{}],5:[function(t,e){"use strict";function i(){}i.prototype={preload:function(){},create:function(){var t={font:"65px Arial",fill:"#ffffff",align:"center"};this.titleText=this.game.add.text(this.game.world.centerX,100,"Game Over!",t),this.titleText.anchor.setTo(.5,.5),this.congratsText=this.game.add.text(this.game.world.centerX,200,"You Win!",{font:"32px Arial",fill:"#ffffff",align:"center"}),this.congratsText.anchor.setTo(.5,.5),this.instructionText=this.game.add.text(this.game.world.centerX,300,"Click To Play Again",{font:"16px Arial",fill:"#ffffff",align:"center"}),this.instructionText.anchor.setTo(.5,.5)},update:function(){this.game.input.activePointer.justPressed()&&this.game.state.start("play")}},e.exports=i},{}],6:[function(t,e){function i(){this.fromPreloader=!1}var s=t("../prefabs/simplebutton"),n=t("../prefabs/togglebutton");i.prototype={preload:function(){},create:function(){this.addBackground(),this.addOtherImages(),this.addButtons()},update:function(){},onFocusLost:function(){this.game.sound.mute=!0},onFocus:function(){this.game.sound.mute=!1},addBackground:function(){this.game.add.image(0,0,"main_menu","main_menu_bg")},addOtherImages:function(){this.title=this.game.add.image(this.game.width/2,130,"main_menu","Title0000"),this.title.anchor.set(.5,.5),this.panda=this.game.add.image(this.game.width/2,this.game.height-50,"main_menu","Panda0000"),this.panda.anchor.set(.5,1),this.panda.angle=-1},addButtons:function(){var t=this,e=this.game.width/2-110,i=140;this.playButton=new s(this.game,this.game.width/2,e,"buttons","Button_Play0000"),this.playButton.setCallbackDelay(250),this.playButton.callback.addOnce(this.hideAndStartGame,this),this.creditsButton=new s(this.game,this.playButton.x+i,this.playButton.y,"buttons","Button_Credits0000"),this.creditsButton.callback.add(this.toggleCredits,this),this.soundButton=new n(this.game,this.playButton.x-i,this.playButton.y,"buttons","Button_Music_On0000","Button_Music_Off0000"),this.soundButton.callback.add(function(){t.game.sound.mute=!t.game.sound.mute}),this.game.sound.mute&&this.soundButton.switchTextures(),this.moreGamesButton=new s(this.game,this.playButton.x+i,this.playButton.y,"buttons","Button_MoreGames0000"),this.moreGamesButton.callback.add(this.onMoreGamesClick,this),this.moreGamesButton.visible=!1,this.moreGamesButton.exists=!1,this.buttons=[this.playButton,this.soundButton,this.creditsButton],this.buttons.forEach(function(e){t.world.add(e)})},hideAndStartGame:function(){this.playButton.input.enabled=!1,this.playButton.inputEnabled=!1,this.game.changeState(a.Main.stats.tutorialViewed?"Level":"Tutorial")},onMoreGamesClick:function(){window.open("http://m.softgames.de","_blank")},initCredits:function(){this.credits=this.game.add.image(0,0,"main_menu","CreditsBoard0000"),this.credits.position.set(Math.round(.5*(a.Config.GAME_WIDTH-this.credits.width)),Math.round(.5*(a.Config.GAME_HEIGHT-this.credits.height))),this.credits.visible=!1},toggleCredits:function(){this.credits.visible?this.hideCredits():this.showCredits()},hideCredits:function(){var t=this;this.game.add.tween(this.credits).to({y:this.credits.y+200,alpha:0},500,Phaser.Easing.Back.In,!0).onComplete.addOnce(function(){t.playButton.input.enabled=!0,t.creditsButton.input.enabled=!0,t.credits.visible=!1},this)},showCredits:function(){var t=this;this.credits.visible=!0,this.credits.alpha=0,this.credits.y=Math.round(.5*(a.Config.GAME_HEIGHT-this.credits.height))+200,this.game.add.tween(this.credits).to({y:this.credits.y-200,alpha:1},500,Phaser.Easing.Back.Out,!0),this.playButton.input.enabled=!1,this.creditsButton.input.enabled=!1,this.game.input.onTap.addOnce(function(){t.hideCredits()},this)}},e.exports=i},{"../prefabs/simplebutton":2,"../prefabs/togglebutton":3}],7:[function(t,e){"use strict";function i(){}i.prototype={create:function(){this.game.physics.startSystem(Phaser.Physics.ARCADE),this.sprite=this.game.add.sprite(this.game.width/2,this.game.height/2,"yeoman"),this.sprite.inputEnabled=!0,this.game.physics.arcade.enable(this.sprite),this.sprite.body.collideWorldBounds=!0,this.sprite.body.bounce.setTo(1,1),this.sprite.body.velocity.x=this.game.rnd.integerInRange(-500,500),this.sprite.body.velocity.y=this.game.rnd.integerInRange(-500,500),this.sprite.events.onInputDown.add(this.clickListener,this)},update:function(){},clickListener:function(){this.game.state.start("gameover")}},e.exports=i},{}],8:[function(t,e){"use strict";function i(){}i.prototype={preload:function(){this.initPreloadBar(),this.addLoadingText(),this.loadAssets()},create:function(){this.game.state.start("menu",!0,!1,!0)},update:function(){},initPreloadBar:function(){this.asset=this.add.sprite(0,0,"preloader"),this.asset.x=this.game.world.centerX-this.asset.width/2,this.asset.y=this.game.world.centerY-this.asset.height/2,this.load.setPreloadSprite(this.asset)},addLoadingText:function(){var t={font:"45px GrilledCheeseBTNToasted",fill:"#FFFFFF",align:"center"};this.loadingText=this.game.add.text(0,0,"0%",t),this.loadingText.anchor.set(.5,.5),this.loadingText.position.set(this.game.world.width/2,this.game.world.height/2+180),this.loadingText.setShadow(2,2,"#666666",2),this.loadingText.update()},loadAssets:function(){this.load.bitmapFont("timer","assets/fonts/timer.png","assets/fonts/timer.fnt",null,1),this.load.bitmapFont("level_label","assets/fonts/level_label.png","assets/fonts/level_label.fnt",null,1),this.load.bitmapFont("fruit_labels","assets/fonts/fruit_labels.png","assets/fonts/fruit_labels.fnt",null,3),this.load.atlasJSONHash("main_menu","assets/graphics/main_menu.png","assets/graphics/main_menu.json")},loadUpdate:function(){this.loadingText.setText(""+this.load.progress+"%")}},e.exports=i},{}]},{},[1]);