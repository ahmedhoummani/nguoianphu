(function e(t,s,i){function a(o,h){if(!s[o]){if(!t[o]){var r="function"==typeof require&&require;if(!h&&r)return r(o,!0);if(n)return n(o,!0);throw Error("Cannot find module '"+o+"'")}var u=s[o]={exports:{}};t[o][0].call(u.exports,function(e){var s=t[o][1][e];return a(s?s:e)},u,u.exports,e,t,s,i)}return s[o].exports}for(var n="function"==typeof require&&require,o=0;i.length>o;o++)a(i[o]);return a})({1:[function(t){"use strict";window.onload=function(){var e=new Phaser.Game(640,832,Phaser.AUTO,"init");e.state.add("boot",t("./states/boot")),e.state.add("level",t("./states/level")),e.state.add("levelsmenu",t("./states/levelsmenu")),e.state.add("menu",t("./states/menu")),e.state.add("preload",t("./states/preload")),e.state.start("boot")}},{"./states/boot":5,"./states/level":6,"./states/levelsmenu":7,"./states/menu":8,"./states/preload":9}],2:[function(t,e){"use strict";var s=function(t,e,s,i,a){Phaser.Image.call(this,t,e,s,"gui","Button_Base0000"),a===void 0&&(a=!1);var n=this;this.inputEnabled=!a,this.locked=a,this._levelNumber=i,this.anchor.set(.5,.5),this.createGraphics(),this.inputEnabled&&(this.game.device.desktop&&(this.input.useHandCursor=!0),this.events.onInputDown.add(function(){n.game.sound.play("tap",.75),n.tint*=.995,n.game.add.tween(n.scale).to({x:.9,y:.9},200,Phaser.Easing.Cubic.Out,!0)}),this.events.onInputUp.add(function(){n.tint=16777215,n.game.add.tween(n.scale).to({x:1,y:1},200,Phaser.Easing.Cubic.Out,!0)})),Object.defineProperty(this,"levelNumber",{get:function(){return this._levelNumber},enumerable:!0,configurable:!0})};s.prototype=Object.create(Phaser.Image.prototype),s.prototype.constructor=s,s.prototype.createGraphics=function(){this.locked?this.createLockedGraphics():this.createUnlockedGraphics()},s.prototype.createLockedGraphics=function(){this.loadTexture("gui_aqua","Button_Lock0000")},s.prototype.createUnlockedGraphics=function(){var t={font:"48px TF2 Build",fill:"#A07B08",align:"center"},e=this.game.add.text(0,0,""+this._levelNumber,t);e.anchor.set(.5,.5);var s=this.game.add.renderTexture(this.width,this.height);s.renderXY(this,.5*this.width,.5*this.height),s.renderXY(e,Math.floor(.5*this.width),Math.floor(.5*this.height)-1),this.setTexture(s),e.destroy()},e.exports=s},{}],3:[function(t,e){"use strict";var s=function(t,e,s,i,a){Phaser.Image.call(this,t,e,s,i,a);var n=this;this.callbackDelay=20,this.callbackTimer=0,this.clicked=!1,this._callback=new Phaser.Signal,this.anchor.set(.5,.5),this.inputEnabled=!0,this.game.device.desktop&&(this.input.useHandCursor=!0),this.inputEnabled&&this.events.onInputDown.add(function(){n.game.device.webAudio&&n.game.sound.play("tap"),n.game.add.tween(n.scale).to({x:1.2,y:.8},200,Phaser.Easing.Back.Out,!0).onComplete.addOnce(function(){n.clicked=!0,n.callbackTimer=0,n.game.add.tween(n.scale).to({x:1,y:1},200,Phaser.Easing.Back.Out,!0)},n)}),Object.defineProperty(this,"callback",{get:function(){return this._callback},enumerable:!0,configurable:!0})};s.prototype=Object.create(Phaser.Image.prototype),s.prototype.constructor=s,s.prototype.update=function(){this.clicked&&(this.callbackTimer+=this.game.time.elapsed,this.callbackTimer>=this.callbackDelay&&(this._callback.dispatch(),this.clicked=!1,this.callbackTimer=0))},s.prototype.setCallbackDelay=function(t){this.callbackDelay=t},s.prototype.destroy=function(){this._callback.dispose(),this._callback=null},e.exports=s},{}],4:[function(t,e){"use strict";var s=t("./simplebutton"),i=function(t,e,i,a,n,o){s.call(this,t,e,i,a,n),this.spriteSheet=a,this.textureKey1=n,this.textureKey2=o,this.activeTextureKey=this.textureKey1,this._state=1,this.events.onInputUp.add(this.switchTextures,this,2),Object.defineProperty(this,"state",{get:function(){return this._state},enumerable:!0,configurable:!0})};i.prototype=Object.create(Phaser.Image.prototype),i.prototype.constructor=i,i.prototype.switchTextures=function(){this.activeTextureKey=this.activeTextureKey===this.textureKey1?this.textureKey2:this.textureKey1,this.loadTexture(this.spriteSheet,this.activeTextureKey),this._state=this.activeTextureKey===this.textureKey1?1:2},e.exports=i},{"./simplebutton":3}],5:[function(t,e){"use strict";function s(){}s.prototype={preload:function(){this.load.image("preloader","assets/LoadingBar_Inner.png")},create:function(){this.setupStage(),this.detectWeakDevice(),this.game.input.maxPointers=1,this.game.state.start("preload")},setupStage:function(){var t=this.game.scale;t.scaleMode=Phaser.ScaleManager.SHOW_ALL,t.minWidth=.25*this.game.world.width,t.minHeight=.25*this.game.world.height,t.aspectRatio=this.game.world.width/this.game.world.width,t.pageAlignHorizontally=!0,t.pageAlignVertically=!0,this.game.device.desktop||t.forceOrientation(!1,!0),t.enterIncorrectOrientation.add(this.onEnterIncorrectOrientation,this),t.leaveIncorrectOrientation.add(this.onLeaveIncorrectOrientation,this),t.setScreenSize(!0),this.stage.disableVisibilityChange=!0,this.stage.backgroundColor=11193204},detectWeakDevice:function(){var t=!1;if(this.game.device.desktop===!1){var e=detect.parse(window.navigator.userAgent);this.game.device.iOS&&(7>e.os.major&&(t=!0),e.browser.family.indexOf("Chrome")>-1&&(t=!0)),this.game.device.android&&(e.browser.family.indexOf("Android")>-1&&(t=!0),e.browser.family.indexOf("Chrome Mobile")>-1&&18>=e.browser.major&&(t=!0)),this.game.device.windowsPhone&&e.browser.family.indexOf("IE")>-1&&(t=10>e.browser.major)}},onEnterIncorrectOrientation:function(){document.getElementById("orientation").style.display="block",document.body.style.marginBottom="0px"},onLeaveIncorrectOrientation:function(){document.getElementById("orientation").style.display="none",document.body.style.marginBottom="100px",this.game.device.android&&!this.game.device.chrome&&this.game.scale.setScreenSize(!0),this.game.time.events.repeat(500,3,this.game.scale.setScreenSize,this)}},e.exports=s},{}],6:[function(t,e){"use strict";function s(){}s.prototype={preload:function(){},create:function(){},update:function(){},paused:function(){},render:function(){},shutdown:function(){}},e.exports=s},{}],7:[function(t,e){function s(){}var i=t("../prefabs/levelicon"),a=t("../prefabs/simplebutton"),n=t("../prefabs/togglebutton");s.prototype={create:function(){this.levels_num=28,this.game.add.image(-16,0,"gui","LevelsMenu_Background0000"),this.initLevelIcons(),this.initButtons(),this.initAnimations()},initLevelIcons:function(){this.levelIconsGroup=this.game.add.group(this.game.world,"LevelIcons Container"),this.levelIconsGroup.x=85,this.levelIconsGroup.y=150;for(var t=118,e=118,s=59,a=0,n=1;this.levels_num>=n;n++){var o=n,h=this.levelIsLocked(o),r=new i(this.game,s-.5,a,o,h);h===!1&&r.events.onInputUp.add(this.onLevelIconInputUp,this,2),this.levelIconsGroup.add(r),s+=t,4===n&&(s=0,a+=e),n>4&&0===(n-4)%5&&(s=0,a+=e),24===n&&(s=59)}},levelIsLocked:function(t){if(1===t)return!1;var e=t-1;return!("true"===window.localStorage.getItem(""+e))},onLevelIconInputUp:function(t){var e=this;this.game.time.events.add(200,function(){var s=t.levelNumber;e.game.state.start("Level",!0,!1,s)},this)},initButtons:function(){var t=this,e=60;this.backButton=new a(this.game,e,e,"gui","Back_Button0000"),this.backButton.callback.addOnce(function(){t.game.state.start("menu")},this),this.world.add(this.backButton),this.soundButton=new n(this.game,this.game.width-e,e,"gui","Music_ON_Button0000","Music_OFF_Button0000"),this.soundButton.callback.add(function(){t.game.sound.mute=!t.game.sound.mute}),this.game.sound.mute&&this.soundButton.switchTextures(),this.world.add(this.soundButton)},initAnimations:function(){this.levelIconsGroup.alpha=0,this.levelIconsGroup.y+=200,this.game.add.tween(this.levelIconsGroup).to({y:this.levelIconsGroup.y-200,alpha:1},600,Phaser.Easing.Back.Out,!0,300),this.backButton.x-=300,this.game.add.tween(this.backButton).to({x:this.backButton.x+300},300,Phaser.Easing.Back.Out,!0,700),this.soundButton.x+=300,this.game.add.tween(this.soundButton).to({x:this.soundButton.x-300},300,Phaser.Easing.Back.Out,!0,700)}},e.exports=s},{"../prefabs/levelicon":2,"../prefabs/simplebutton":3,"../prefabs/togglebutton":4}],8:[function(t,e){function s(){this.fromPreloader=!1}var i=t("../prefabs/simplebutton"),a=t("../prefabs/togglebutton");s.prototype={preload:function(){},create:function(){this.addBackground(),this.addOtherImages(),this.addButtons(),this.initCredits(),this.initAnimation(),this.fromPreloader&&(this.soundButton.input.enabled=!1,this.soundButton.switchTextures(),this.game.input.onTap.addOnce(this.startMusic,this),this.stage.disableVisibilityChange=!1,this.game.onBlur.add(this.onFocusLost,this),this.game.onFocus.add(this.onFocus,this))},update:function(){},onFocusLost:function(){this.game.tweens.pauseAll(),this.game.sound.mute=!0},onFocus:function(){this.game.tweens.resumeAll(),this.game.sound.mute=!1},addBackground:function(){this.game.add.image(0,0,"main_menu","main_menu_bg")},addOtherImages:function(){this.title=this.game.add.image(this.game.width/2,130,"main_menu","Title0000"),this.title.anchor.set(.5,.5),this.panda=this.game.add.image(this.game.width/2,this.game.height-50,"main_menu","Panda0000"),this.panda.anchor.set(.5,1),this.panda.angle=-1},addButtons:function(){var t=this,e=this.game.width/2-50,s=140;this.playButton=new i(this.game,this.game.width/2,e,"buttons","Button_Play0000"),this.playButton.setCallbackDelay(250),this.playButton.callback.addOnce(this.hideAndStartGame,this),this.creditsButton=new i(this.game,this.playButton.x+s,this.playButton.y,"buttons","Button_Credits0000"),this.creditsButton.callback.add(this.toggleCredits,this),this.soundButton=new a(this.game,this.playButton.x-s,this.playButton.y,"buttons","Button_Music_On0000","Button_Music_Off0000"),this.soundButton.callback.add(function(){t.game.sound.mute=!t.game.sound.mute}),this.game.sound.mute&&this.soundButton.switchTextures(),this.moreGamesButton=new i(this.game,this.playButton.x+s,this.playButton.y,"buttons","Button_MoreGames0000"),this.moreGamesButton.callback.add(this.onMoreGamesClick,this),this.moreGamesButton.visible=!1,this.moreGamesButton.exists=!1,this.buttons=[this.playButton,this.soundButton,this.creditsButton],this.buttons.forEach(function(e){t.world.add(e)})},hideAndStartGame:function(){this.playButton.input.enabled=!1,this.playButton.inputEnabled=!1,this.game.state.start("levelsmenu")},onMoreGamesClick:function(){window.open("http://m.softgames.de","_blank")},initCredits:function(){this.credits=this.game.add.image(0,0,"main_menu","CreditsBoard0000"),this.credits.position.set(Math.round(.5*(this.game.width-this.credits.width)),Math.round(.5*(this.game.height-this.credits.height))),this.credits.visible=!1},toggleCredits:function(){this.credits.visible?this.hideCredits():this.showCredits()},hideCredits:function(){var t=this;this.game.add.tween(this.credits).to({y:this.credits.y+200,alpha:0},500,Phaser.Easing.Back.In,!0).onComplete.addOnce(function(){t.playButton.input.enabled=!0,t.creditsButton.input.enabled=!0,t.credits.visible=!1},this)},showCredits:function(){this.credits.visible=!0,this.credits.alpha=0,this.credits.y=Math.round(.5*(this.game.width-this.credits.height))+200,this.game.add.tween(this.credits).to({y:this.credits.y-200,alpha:1},500,Phaser.Easing.Back.Out,!0),this.playButton.input.enabled=!1,this.creditsButton.input.enabled=!1,this.game.input.onTap.addOnce(function(){this.hideCredits()},this)},initAnimation:function(){var t=this;this.title.y-=280,this.game.add.tween(this.title).to({y:this.title.y+280},600,Phaser.Easing.Back.Out,!0,300);var e=800;this.buttons.forEach(function(s){s.scale.set(0,0),t.game.add.tween(s.scale).to({x:1,y:1},300,Phaser.Easing.Back.Out,!0,e),e+=200})},destroy:function(){this.buttons=null}},e.exports=s},{"../prefabs/simplebutton":3,"../prefabs/togglebutton":4}],9:[function(t,e){"use strict";function s(){}s.prototype={preload:function(){this.initPreloadBar(),this.addLoadingText(),this.loadAssets()},create:function(){this.game.state.start("menu",!0,!1,!0)},update:function(){},initPreloadBar:function(){this.asset=this.add.sprite(0,0,"preloader"),this.asset.x=this.game.world.centerX-this.asset.width/2,this.asset.y=this.game.world.centerY-this.asset.height/2,this.load.setPreloadSprite(this.asset)},addLoadingText:function(){var t={font:"45px GrilledCheeseBTNToasted",fill:"#FFFFFF",align:"center"};this.loadingText=this.game.add.text(0,0,"0%",t),this.loadingText.anchor.set(.5,.5),this.loadingText.position.set(this.game.world.width/2,this.game.world.height/2+180),this.loadingText.setShadow(2,2,"#666666",2),this.loadingText.update()},loadAssets:function(){this.load.bitmapFont("timer","assets/fonts/timer.png","assets/fonts/timer.fnt",null,1),this.load.bitmapFont("level_label","assets/fonts/level_label.png","assets/fonts/level_label.fnt",null,1),this.load.bitmapFont("fruit_labels","assets/fonts/fruit_labels.png","assets/fonts/fruit_labels.fnt",null,3),this.load.atlasJSONHash("main_menu","assets/graphics/main_menu.png","assets/graphics/main_menu.json"),this.load.atlasJSONHash("graphics_1","assets/graphics/level_graphics.png","assets/graphics/level_graphics.json"),this.load.atlasJSONHash("buttons","assets/graphics/buttons.png","assets/graphics/buttons.json"),this.load.atlasJSONHash("panda","assets/graphics/panda.png","assets/graphics/panda.json"),this.load.atlasJSONHash("tutorial","assets/graphics/tutorial.png","assets/graphics/tutorial.json"),this.load.atlasJSONHash("tutorial_hand","assets/graphics/tutorial_hand.png","assets/graphics/tutorial_hand.json"),this.load.atlasJSONHash("gui","assets/graphics/gui.png","assets/graphics/gui.json"),this.load.atlasJSONHash("gui_aqua","assets/graphics/gui_aqua.png","assets/graphics/gui_aqua.json")},loadUpdate:function(){this.loadingText.setText(""+this.load.progress+"%")}},e.exports=s},{}]},{},[1]);